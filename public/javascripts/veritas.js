var isFixed;$(".smooth-scroll").click(function(n){var o=$(this).attr("href");$("html, body").stop().animate({scrollTop:$(o).offset().top-navHeight+1},300),n.preventDefault()});var lastId,clicked=!1;function hideNav(){$(window).width()<=800&&(toggleNavElements(),removeNavDropdownLinks())}function toggleNavElements(){$(".mobile-toggle").toggleClass("mobile-toggled"),$(".nav-items").toggleClass("nav-appear"),$(".nav").toggleClass("nav-toggled"),$("body").toggleClass("no-scroll"),isFixed||$(".nav").toggleClass("fixed")}function addNavDropdownLinks(){$(".nav-dropdown-item ul li").each(function(){$(".nav-items").append("<div class='nav-item nav-appended-dropdown'>"+$(this).html()+"</div>")})}function removeNavDropdownLinks(){$(".nav-appended-dropdown").each(function(){$(this).remove()})}$(document).ready(function(){isFixed=$(".nav").hasClass("fixed"),$(".mobile-toggle").click(function(){toggleNavElements(),$(".mobile-toggle").hasClass("mobile-toggled")?addNavDropdownLinks():removeNavDropdownLinks(),clicked||($(".nav-appear .nav-item a").click(hideNav),clicked=!0)}),scrollEvent()});var nav=$(".nav"),navHeight=nav.outerHeight(),navItems=$(".nav").find(".nav-item a"),scrollItems=navItems.map(function(){var n=$($(this).attr("href"));if(n.length)return n});function scrollEvent(){if(nav.hasClass("nav-scrollspy")||nav.hasClass("nav-background-adapt")){var n=$(this).scrollTop()+navHeight+1,o=scrollItems.map(function(){if($(this).offset().top<n)return this}),a=(o=o[o.length-1])&&o.length?o[0].id:"";if(nav.hasClass("nav-scrollspy")&&lastId!==a&&(lastId=a,navItems.parent().removeClass("active").end().filter("[href='#"+a+"']").parent().addClass("active")),nav.hasClass("nav-background-adapt")&&nav.css("background-color")!==$("#"+a).css("background-color")){var e=$("#"+a).css("background-color");!0!==nav.data("nav-allow-adaptive-transparency")?("rgba(0, 0, 0, 0)"===e&&(e=$("body").css("background-color")),nav.css("background-color",e),$(".nav-items").css("background-color",e),$(".nav-items").find(".nav-dropdown-item ul").css("background-color",e),setTimeout(function(){var n=nav.css("background-color"),o=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).split(/,\s*/);navItems.css("color",determineTextColor(o[0],o[1],o[2])),$(".nav").find(".nav-dropdown-title").css("color",determineTextColor(o[0],o[1],o[2])),$(".nav").find(".nav-dropdown-item ul li a").css("color",determineTextColor(o[0],o[1],o[2])),$(".nav").find(".toggle-line").css("background-color",determineTextColor(o[0],o[1],o[2]))},90)):(nav.css("background-color",e),$(".nav-items").css("background-color",e),$(".nav-items").find(".nav-dropdown-item ul").css("background-color",e),"rgba(0, 0, 0, 0)"===e?($("#nav-adaptive-icon").attr("src","websrc/img/logo-white.png"),navItems.css("color","white"),$(".nav").find(".nav-dropdown-title").css("color","white"),$(".nav").find(".nav-dropdown-item ul li a").css("color","white"),$(".nav").find(".toggle-line").css("background-color","white")):setTimeout(function(){var n=nav.css("background-color"),o=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).split(/,\s*/),a=determineTextColor(o[0],o[1],o[2]);navItems.css("color",a),$(".nav").find(".nav-dropdown-title").css("color",a),$(".nav").find(".nav-dropdown-item ul li a").css("color",a),$(".nav").find(".toggle-line").css("background-color",a),"black"===a?$("#nav-adaptive-icon").attr("src","websrc/img/logos.png"):$("#nav-adaptive-icon").attr("src","websrc/img/logo-white.png")},90))}}}function determineTextColor(n,o,a){for(var e=[n/255,o/255,a/255],s=0;s<e.length;s++)e[s]<=.03928?e[s]=e[s]/12.92:e[s]=Math.pow((e[s]+.055)/1.055,2.4);return.2126*e[0]+.7152*e[1]+.0722*e[2]>.179?"black":"white"}$(window).scroll(scrollEvent);
